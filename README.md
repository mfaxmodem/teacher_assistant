
# **پروژه استادیار: دستیار هوشمند آموزشی برای هنرستان‌های فنی**

## **۱. چشم‌انداز و معرفی پروژه**

**استادیار** یک سیستم هوش مصنوعی ترکیبی (Compound AI System) است که با هدف توانمندسازی معلمان هنرستان‌های فنی و حرفه‌ای و کاردانش ایران طراحی شده است. این پلتفرم به عنوان یک همکار متخصص، به معلمان در طراحی طرح درس‌های خلاقانه، فعالیت‌های کارگاهی، سوالات امتحانی استاندارد و به‌کارگیری روش‌های نوین تدریس کمک می‌کند. هدف اصلی، کاهش بار کاری معلمان و افزایش کیفیت و جذابیت آموزش‌های مهارتی برای هنرجویان است.

این سیستم فراتر از یک چت‌بات ساده عمل کرده و با ترکیب دانش تخصصی و قابلیت‌های استدلال پیشرفته، پاسخ‌هایی کاملاً شخصی‌سازی‌شده و منطبق بر نیازهای هر معلم ارائه می‌دهد.



## **۲. قابلیت‌ها و ویژگی‌های کلیدی**

این پلتفرم دارای مجموعه‌ای از ویژگی‌های مدرن برای ارائه یک تجربه کاربری کامل و هوشمند است:

  * **احراز هویت و پروفایل کاربری:** سیستم ثبت‌نام و ورود امن برای معلمان جهت ذخیره‌سازی اطلاعات و تاریخچه گفتگوها.
  * **شخصی‌سازی پویا:** تطبیق خودکار لحن و سطح پیچیدگی پاسخ‌ها بر اساس سابقه تدریس و تخصص هر معلم.
  * **حافظه بلندمدت:** قابلیت ذخیره و بازیابی تمام گفتگوهای قبلی هر کاربر، با امکان حذف و مدیریت آن‌ها.
  * **دانش تخصصی (RAG):** پاسخ‌دهی مبتنی بر یک پایگاه دانش قابل سفارشی‌سازی (شامل کتاب‌های درسی، جزوات و مقالات تخصصی) برای تضمین دقت فنی پاسخ‌ها.
  * **جستجوی ترکیبی (Hybrid Search):** استفاده همزمان از جستجوی معنایی (Vector Search) و کلیدواژه‌ای (Keyword Search) برای یافتن دقیق‌ترین اطلاعات از پایگاه دانش.
  * **درک زمینه گفتگو (Contextual RAG):** قابلیت بازنویسی هوشمند سوالات کاربر بر اساس تاریخچه گفتگو برای درک بهتر سوالات ادامه‌دار.
  * **مکانیزم بازخورد:** امکان ثبت بازخورد (👍/👎) برای هر پاسخ جهت جمع‌آوری داده برای بهبودهای آینده سیستم.
  * **رابط کاربری واکنش‌گرا (Responsive):** طراحی مدرن و کاملاً واکنش‌گرا برای استفاده راحت در دسکتاپ، تبلت و موبایل.



## **۳. معماری سیستم**

این پروژه با معماری مدرن میکروسرویس و با جداسازی کامل لایه‌های مختلف طراحی شده است تا حداکثر انعطاف‌پذیری و قابلیت توسعه را داشته باشد.

  * **لایه فرانت‌اند (Frontend):**

      * یک رابط کاربری مدرن با react. این لایه مسئول تمام تعاملات کاربر و نمایش داده‌ها به صورت پویا و استریم است.

  * **لایه بک‌اند (Backend - API):**

      * یک سرور API قدرتمند و سریع که با **FastAPI** (پایتون) ساخته شده است. این لایه مانند کنترل‌کننده مرکزی عمل کرده و مسئول مدیریت درخواست‌ها، احراز هویت، ارتباط با پایگاه داده و ارکستراسیون سرویس‌های هوش مصنوعی است.

  * **هسته هوش مصنوعی (AI Core):**

      * **لایه انتزاعی ارائه‌دهندگان مدل (LLM Providers):** یک معماری ماژولار که به سیستم اجازه می‌دهد به راحتی بین مدل‌های زبان بزرگ مختلف (مانند **Gemini**, **OpenAI** یا مدل‌های محلی **Ollama**) بدون نیاز به تغییر در منطق اصلی برنامه، جابجا شود.
      * **خط لوله RAG (RAG Pipeline):**
        1.  **پردازش دانش:** با `ingest.py` اسناد PDF پردازش شده و دو ایندکس مجزا ساخته می‌شود.
        2.  **ایندکس برداری:** **FAISS** برای جستجوی سریع معنایی.
        3.  **ایندکس کلیدواژه‌ای:** **BM25** برای جستجوی دقیق کلمات کلیدی.
        4.  **ترکیب نتایج:** نتایج دو جستجو با الگوریتم **Reciprocal Rank Fusion (RRF)** ترکیب شده تا مرتبط‌ترین اسناد انتخاب شوند.

  * **لایه داده (Data Layer):**

      * **پایگاه داده رابطه‌ای:** **SQLite** برای مدیریت داده‌های ساختاریافته شامل اطلاعات کاربران، لیست گفتگوها، تاریخچه پیام‌ها و بازخوردها.
      * **پایگاه دانش:** مجموعه‌ای از فایل‌های باینری (`faiss_index.bin`, `bm25_index.pkl`, `chunks.pkl`) که دانش تخصصی سیستم را در خود جای داده‌اند.


## **۴. پشته فناوری (Technology Stack)**

| لایه | ابزارها و کتابخانه‌ها |
| **Backend** | Python 3.10+, FastAPI, Uvicorn, Pydantic, Passlib (برای امنیت رمز عبور) |
| **Frontend** | HTML5, CSS3, JavaScript (ES6+), Marked.js (برای رندر Markdown) |
| **هوش مصنوعی** | Google Generative AI (Gemini), OpenAI, Ollama, FAISS (CPU), rank-bm25, PyPDF, LangChain Text Splitters |
| **پایگاه داده** | SQLite 3 |
| **مدیریت پروژه** | Git, GitHub, Virtualenv |


## **۵. راهنمای نصب و اجرا**

1.  **کلون کردن پروژه:**

    ```bash
    git clone [URL_REPOSITORY]
    cd [PROJECT_FOLDER]
    ```

2.  **ایجاد و فعال‌سازی محیط مجازی:**

    ```bash
    python -m venv venv
    # Windows
    .\venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```

3.  **نصب پیش‌نیازها:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **تنظیم متغیرهای محیطی:**

      * فایل `.env.example` را به `.env` تغییر نام دهید.
      * کلیدهای API مورد نیاز (مانند `GEMINI_API_KEY`) را در آن قرار دهید.
      * ارائه‌دهنده مدل مورد نظر را انتخاب کنید (`AI_PROVIDER="gemini"`).

5.  **ساخت پایگاه دانش:**

      * فایل‌های PDF تخصصی خود را در پوشه `knowledge_base` قرار دهید.
      * اسکریپت پردازش را یک بار اجرا کنید:
        ```bash
        python ingest.py
        ```

6.  **اجرای سرور:**

    ```bash
    uvicorn main:app --reload
    ```

7.  **مشاهده برنامه:** مرورگر خود را باز کرده و به آدرس `http://127.0.0.1:8000` بروید.


## **۶. نقشه راه و بهبودهای آینده**

  * **تحلیل بازخوردها:** تحلیل داده‌های جمع‌آوری شده از مکانیزم بازخورد برای شناسایی نقاط ضعف مدل.
  * **تنظیم دقیق مدل (Fine-Tuning):** استفاده از دیتاست باکیفیت جمع‌آوری شده برای Fine-Tune کردن یک مدل پایه و ساخت یک "استادیار" با تخصص ذاتی.
  * **افزودن قابلیت‌های چندوجهی (Multi-modal):** امکان آپلود تصاویر (مانند دیاگرام‌های فنی) و تحلیل آن‌ها توسط مدل.
  * **استقرار (Deployment):** بسته‌بندی پروژه با Docker و استقرار آن روی یک پلتفرم ابری برای دسترسی عمومی.
